(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2dd1a0ee"],{"29dd":function(t,e,r){"use strict";var s=r("7595"),a=r.n(s);a.a},7595:function(t,e,r){},f339:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("br"),r("br"),r("h1",{staticClass:"text-center"},[t._v("Products in store")]),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogs,callback:function(e){t.dialogs=e},expression:"dialogs"}},[r("v-card",{staticClass:"elevation-20",attrs:{slot:"activator",id:"ustawTenJebanyMargin"},slot:"activator"},[r("v-btn",{staticClass:"m-auto",attrs:{color:"primary",dark:""}},[t._v("New Item")])],1),r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"})]),r("v-card-text",[r("v-container",{attrs:{"grid-list-md":""}},[t.selectForm?t._e():r("p",{staticClass:"alert alert-info"},[t._v("You can add product with this form or move to product creator")]),r("router-link",{attrs:{to:"/new"}},[r("v-btn",{attrs:{color:"primary"}},[t._v("Move to creator")])],1),r("v-btn",{staticClass:"primary",on:{click:function(e){t.selectForm=!0}}},[t._v("Use local form")]),t.selectForm?r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{rules:t.product.titleRules,label:"Product name"},model:{value:t.product.title,callback:function(e){t.$set(t.product,"title",e)},expression:"product.title"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-textarea",{attrs:{rules:t.product.textRules,"auto-grow":"",box:"",label:"Description",rows:"2"},model:{value:t.product.text,callback:function(e){t.$set(t.product,"text",e)},expression:"product.text"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{rules:t.product.imageRules,label:"Image link"},model:{value:t.product.img,callback:function(e){t.$set(t.product,"img",e)},expression:"product.img"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-slider",{attrs:{rules:t.product.priceRules,label:"price: "+t.product.price+"$",hint:"Nie przesadzaj",min:"1",max:"100","thumb-label":""},model:{value:t.product.price,callback:function(e){t.$set(t.product,"price",e)},expression:"product.price"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-radio-group",{staticClass:"text-center",attrs:{rules:t.product.postTypeRule,row:""},model:{value:t.product.postType,callback:function(e){t.$set(t.product,"postType",e)},expression:"product.postType"}},t._l(t.items,function(t){return r("v-radio",{key:t,attrs:{label:t,color:"purple darken-2",value:t}})}))],1)],1):t._e()],1)],1),r("v-card-actions",[r("v-spacer"),t._v("\r\n        "+t._s(t.checkForm)+"\r\n        "),r("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.setDialog()}}},[t._v("Cancel")]),t.selectForm?r("v-btn",{attrs:{color:"blue darken-1",disabled:t.disableButton,flat:""},on:{click:function(e){t.addPost()}}},[t._v("Save")]):t._e()],1)],1)],1),r("v-data-table",{staticClass:"elevation-3 data--table",attrs:{headers:t.headers,items:t.posts,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",[t._v(t._s(e.item.title))]),r("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.price))]),r("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.postType))]),r("td",{staticClass:"justify-left layout px-0"},[r("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-btn",{staticClass:"error",attrs:{slot:"activator",icon:"",fab:"",medium:""},slot:"activator"},[r("v-icon",[t._v("delete")])],1),r("v-card",[r("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("\r\n            Deleting item from shop\r\n          ")]),r("v-card-text",[t._v("\r\n              Are you sure about deleting this product?\r\n          ")]),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{staticClass:"error",on:{click:function(r){t.deletePost(e.item._id),t.setDialog()}}},[t._v("\r\n              Delete\r\n            ")]),r("v-btn",{attrs:{dark:""},on:{click:function(e){t.setDialog()}}},[t._v("Cancel")])],1)],1)],1)],1),r("td",[r("router-link",{attrs:{to:{name:"editPost",params:{id:e.item._id}}}},[r("v-btn",{attrs:{outline:"",fab:"",color:"indigo"}},[r("v-icon",[t._v("edit")])],1)],1)],1)]}}])})],1)},a=[],o=(r("96cf"),r("1da1")),i=r("be94"),c=(r("4917"),r("2f62")),l=r("283c"),n={data:function(){return{dialog:!1,dialogs:!1,selectForm:!1,disableButton:!0,headers:[{text:"Product name",align:"left",sortable:!1,value:"name"},{text:"Price",value:"price"},{text:"Category",value:"postType"},{text:"Delete",value:"name",sortable:!1},{text:"Edit",value:"idk",sortable:!1}],product:{title:"",titleRules:[function(t){return!!t||"Name is required"},function(t){return t&&t.length>1||"Name must be atleast more than 1 characters"}],text:"",textRules:[function(t){return!!t||"Description is required"},function(t){return t&&t.length>10||"To short. Atleast 10 characters"}],img:"",imageRules:[function(t){return t&&t.match(/\.(jpeg|jpg|gif|png)$/)||"this is not correct URL. Make sure URL ends with .jpeg .jpg .gif or .png "}],price:"",priceRules:[function(t){return t&&t>=1&&t<=100||"You need to setup price between 1$ or 100$"}],postType:"",postTypeRule:[function(t){return t&&t.length>0||"Choose category"}]},items:["Nature","Devices","Plants"]}},mounted:function(){this.$store.dispatch("getPosts")},computed:Object(i["a"])({},Object(c["d"])(["posts"]),{checkForm:function(){this.product.title.length>1&&this.product.text.length>10&&this.product.img.match(/\.(jpeg|jpg|gif|png)$/)&&this.product.price>0&&this.product.postType.length>0?this.disableButton=!1:this.disableButton=!0}}),methods:Object(i["a"])({},Object(c["b"])(["deletePost"]),{setDialog:function(){this.dialog=!1,this.dialogs=!1},addPost:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l["a"].addPost({title:this.product.title,text:this.product.text,img:this.product.img,price:this.product.price,postType:this.product.postType});case 2:setTimeout(function(){e.$store.dispatch("getPosts"),e.dialogs=!1},2e3);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()})},u=n,d=(r("29dd"),r("2877")),p=Object(d["a"])(u,s,a,!1,null,null,null);p.options.__file="PostAdmin.vue";e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2dd1a0ee.d4072c22.js.map