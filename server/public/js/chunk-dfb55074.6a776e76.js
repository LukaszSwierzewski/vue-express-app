(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dfb55074"],{"02f4":function(t,e,n){var o=n("4588"),r=n("be13");t.exports=function(t){return function(e,n){var a,i,s=String(r(e)),c=o(n),m=s.length;return c<0||c>=m?t?"":void 0:(a=s.charCodeAt(c),a<55296||a>56319||c+1===m||(i=s.charCodeAt(c+1))<56320||i>57343?t?s.charAt(c):a:t?s.slice(c,c+2):i-56320+(a-55296<<10)+65536)}}},"0320":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("br"),n("br"),n("br"),t.product.id.length>3?n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:" offset-lg-3 col-lg-5"},[n("div",{staticClass:"card mt-4"},[n("img",{staticClass:"card-img-top img-fluid",attrs:{src:t.product.img,alt:""}}),n("div",{staticClass:"card-body"},[n("h3",{staticClass:"card-title"},[t._v(t._s(t.product.title))]),n("h4",[t._v(t._s(t.product.price)+" $")]),n("p",{staticClass:"card-text"},[t._v(t._s(t.product.text))]),n("v-btn",{staticClass:"white--text",attrs:{absolute:"",color:"orange",fab:"",medium:"",right:"",middle:""},on:{click:function(e){t.addToCart(t.product)}}},[n("v-icon",[t._v("shopping_basket")])],1),n("v-rating",{attrs:{"background-color":"green lighten-3",color:"green",medium:"",value:t.avgRating,readonly:""}}),t.product.comments.length>0?n("h4",[t._v("average rating for this product: "),n("strong",[t._v(t._s(""+t.avgRating.toFixed(2)))])]):t._e(),0===t.product.comments.length?n("h4",[t._v("There is no review of this product")]):t._e()],1)]),n("h3",[t._v("Add review of our product")]),n("div",[n("div",[n("div",{staticClass:"col-sm-12"},[n("v-textarea",{attrs:{"auto-grow":"",box:"",color:"deep-purple",label:"Comment",rows:"1"},model:{value:t.comment.text,callback:function(e){t.$set(t.comment,"text",e)},expression:"comment.text"}})],1),n("div",{staticClass:"form-group"},[n("div",{staticClass:"col-sm-12 w-25"},[n("div",{staticClass:"input-group"},[n("v-text-field",{attrs:{color:"purple darken-2",label:"Author",required:""},model:{value:t.comment.author,callback:function(e){t.$set(t.comment,"author",e)},expression:"comment.author"}})],1)]),n("div",{staticClass:"col-sm-12"},[n("p",[t._v("Rating:")]),n("v-rating",{attrs:{"background-color":"green lighten-3",color:"green",medium:""},model:{value:t.comment.rating,callback:function(e){t.$set(t.comment,"rating",e)},expression:"comment.rating"}})],1)]),n("div",{staticClass:"form-group"},[n("div",{staticClass:"col-sm-offset-4 col-sm-10"},[n("button",{staticClass:"btn btn-success btn-circle text-uppercase text-center",attrs:{type:"submit",id:"submitComment"},on:{click:function(e){t.addComment()}}},[n("span",{staticClass:"glyphicon glyphicon-send"}),t._v(" Summit comment")])])])]),n("br"),n("br")]),n("br"),n("br"),n("br"),n("div",{staticClass:"card card-outline-secondary my-4"},[n("div",{staticClass:"card-header"},[t._v("\n           Product Reviews "),n("strong",{staticClass:"show--comment",on:{click:t.loadComment}},[t._v("("+t._s(t.product.comments.length)+")")])]),n("div",{staticClass:"card-body"},[n("transition-group",{attrs:{mode:"in-out","enter-active-class":"animated slideInDown","leave-active-class":"animated slideOutDown"}},t._l(t.product.comments,function(e){return t.showComment?t._e():n("all-comment",{key:e._id,attrs:{comment:e}})}))],1)])])])]):t._e()])},r=[],a=(n("5df3"),n("1c4c"),n("be94")),i=(n("96cf"),n("1da1")),s=n("283c"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("div",{staticClass:"col-sm-12"},[n("v-textarea",{attrs:{"auto-grow":"",box:"",color:"deep-purple",label:"Comment",rows:"1"},model:{value:t.comment.text,callback:function(e){t.$set(t.comment,"text",e)},expression:"comment.text"}})],1),n("div",{staticClass:"form-group"},[n("div",{staticClass:"col-sm-12 w-25"},[n("div",{staticClass:"input-group"},[n("v-text-field",{attrs:{color:"purple darken-2",label:"Author",required:""},model:{value:t.comment.author,callback:function(e){t.$set(t.comment,"author",e)},expression:"comment.author"}})],1)]),n("div",{staticClass:"col-sm-12"},[n("p",[t._v("Rating:")]),n("v-rating",{attrs:{"background-color":"green lighten-3",color:"green",medium:""},model:{value:t.comment.rating,callback:function(e){t.$set(t.comment,"rating",e)},expression:"comment.rating"}}),t._v("\r\n                            "+t._s(t.showComment)+"\r\n                            ")],1)]),n("div",{staticClass:"form-group"},[n("div",{staticClass:"col-sm-offset-4 col-sm-10"},[n("button",{staticClass:"btn btn-success btn-circle text-uppercase text-center",attrs:{type:"submit",id:"submitComment"},on:{click:function(e){t.addComment()}}},[n("span",{staticClass:"glyphicon glyphicon-send"}),t._v(" Summit comment")])])])]),n("br"),n("br")])},m=[],u=(n("cadf"),n("551c"),n("097d"),{props:["showComment"],data:function(){return{comment:[{text:"",author:"",rating:""}]}},methods:{addComment:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.comment.rating>0)){t.next=8;break}return t.next=3,s["a"].addComment({id:this.$route.params.id,text:this.comment.text,author:this.comment.author,rating:this.comment.rating});case 3:this.comment.author="",this.comment.text="",this.comment.rating="",t.next=9;break;case 8:alert("add rating before");case 9:console.log("chuj");case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}}),l=u,d=n("2877"),h=Object(d["a"])(l,c,m,!1,null,null,null);h.options.__file="AddComment.vue";var p=h.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment"},[n("v-rating",{attrs:{value:t.comment.rating,"background-color":"green lighten-3",color:"green",medium:"",readonly:""}}),n("p",[t._v(t._s(t.comment.text))]),n("small",{staticClass:"text-muted"},[t._v("Posted by "+t._s(t.comment.author)+" on 3/1/17")]),n("hr")],1)},g=[],f={props:["comment"]},b=f,C=Object(d["a"])(b,v,g,!1,null,null,null);C.options.__file="AllComment.vue";var x=C.exports,_=n("2f62"),w={name:"showPost",data:function(){return{showComment:!0,comment:[{text:"",author:"",rating:""}],product:{title:"",text:"",img:"",price:"",id:"",comments:[]}}},components:{AllComment:x,AddComment:p},mounted:function(){var t=this;this.getPost(),setInterval(function(){t.getPost()},1e3)},methods:{loadComment:function(){this.showComment=!this.showComment},getPost:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].getPost({id:this.$route.params.id});case 3:e=t.sent,this.product.title=e.data.title,this.product.text=e.data.text,this.product.img=e.data.img,this.product.price=e.data.price,this.product.id=e.data._id,this.product.comments=e.data.comments,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}},t,this,[[0,12]])}));return function(){return t.apply(this,arguments)}}(),addComment:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.comment.rating>0)){t.next=5;break}return t.next=3,s["a"].addComment({id:this.$route.params.id,text:this.comment.text,author:this.comment.author,rating:this.comment.rating},this.comment.author="",this.comment.text="",this.comment.rating="",setTimeout(function(){e.getPost()},1e3),this.showComment=!1);case 3:t.next=6;break;case 5:alert("Please rate this product");case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),addToCart:function(t){this.$store.commit({type:"addToCart",id:this.product.id,title:this.product.title,img:this.product.img,price:this.product.price,quantity:1})}},computed:Object(a["a"])({},Object(_["d"])(["comments"]),{avgRating:function(){var t=this.product.comments.map(function(t){return t.rating}),e=Array.from(t),n=e.reduce(function(t,e){return t+e},0),o=n/this.product.comments.length;return o}})},k=w,y=(n("768e"),Object(d["a"])(k,o,r,!1,null,null,null));y.options.__file="showPost.vue";e["default"]=y.exports},"0dfb":function(t,e,n){},"1c4c":function(t,e,n){"use strict";var o=n("9b43"),r=n("5ca1"),a=n("4bf8"),i=n("1fa8"),s=n("33a4"),c=n("9def"),m=n("f1ae"),u=n("27ee");r(r.S+r.F*!n("5cc5")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,l,d=a(t),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v,f=0,b=u(d);if(g&&(v=o(v,p>2?arguments[2]:void 0,2)),void 0==b||h==Array&&s(b))for(e=c(d.length),n=new h(e);e>f;f++)m(n,f,g?v(d[f],f):d[f]);else for(l=b.call(d),n=new h;!(r=l.next()).done;f++)m(n,f,g?i(l,v,[r.value,f],!0):r.value);return n.length=f,n}})},"5df3":function(t,e,n){"use strict";var o=n("02f4")(!0);n("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=o(e,n),this._i+=t.length,{value:t,done:!1})})},"768e":function(t,e,n){"use strict";var o=n("0dfb"),r=n.n(o);r.a},f1ae:function(t,e,n){"use strict";var o=n("86cc"),r=n("4630");t.exports=function(t,e,n){e in t?o.f(t,e,r(0,n)):t[e]=n}}}]);
//# sourceMappingURL=chunk-dfb55074.6a776e76.js.map